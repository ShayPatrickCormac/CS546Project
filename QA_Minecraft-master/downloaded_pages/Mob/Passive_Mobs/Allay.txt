Overview
    The allay ( /əˈleɪ/ uh-ʟᴀʏ) is a flying passive mob that collects and delivers items for any player that gives it something or any note block it hears recently playing.

Spawning
    Allays have a 50% chance of spawning in dark oak cages near pillager outposts in groups of 1-3. Allays also have a 50% chance to spawn inside jail cells within woodland mansions in groups of 1-3.

Behavior
    The allay's luminous texture allows it to be seen clearly in the dark, although it doesn't illuminate its surroundings. The allay is small, peaceful and flies aimlessly until a player gives it an item with their use key. The allay starts following the player and seeks out dropped versions of the same item to deliver them to its player. The allay returns to wandering around if any player takes its item back by using an empty hand on it. The allay locks onto the player that last gave it an item. This allay follows the player from up to a 64-block cubic area away and seeks items up to a 32-block cubic area away from the player. After delivering items, the allay has a delay of three seconds until it can seek items again. An allay has a single inventory slot to hold a stack of items (usually 64 items) in addition to the item it got from the player. While the allay does not discern enchantments, special item names or items in shulker boxes when it seeks, it still carries such items in separate trips. Allays don't pick up any items if the game rule /gamerule mobGriefing is set to false, but the player can still give the allay items with the use key. If the allay hears a note block play within 16 blocks of its location while delivering items, it will instead deliver its items to the note block and then spend 30 seconds around that particular note block, seeking items around it and returning them to it instead of its player. The allay returns to targeting its player after 30 seconds. A vibration particle emanates from the note block and reaches the allay to indicate the allay has locked on to the note block. Because the allay and the note block interact via a vibration particle, placing wool between the note block and the allay can prevent this sound interaction. The allay can pick up items within a radius of about 1.3 blocks from itself and drop items up to 3 blocks away from its player or note block. An allay performs a dance animation when there is a nearby jukebox playing. If the jukebox stops playing or if the allay gets too far away from the jukebox, it stops dancing. The allay cannot enter water, although it attempts to gather items that are under water. Allays cannot be harmed by their interacted owners. If they are harmed by another source, they fly away for a few seconds. When killed, allays drop the items they were holding. If an allay dies while holding a totem of undying, it instead returns to full health and the totem is destroyed, as with any mob holding a totem of undying. Allays naturally regenerate 2 per second if damaged. In Java Edition, using a lead or a named name tag performs the item's normal function, instead of giving it to the allay.

  Allay duplication
    If an allay is given an amethyst shard while it is dancing due to a nearby jukebox playing any music disc, it splits into two allays (itself and a new allay) and the amethyst shard is consumed. After duplication, both allays have a five minute cooldown before being able to duplicate again. Allays do not have a baby form.

  Teleportation
    When a player teleports through a nether portal, the player's allay teleports also, even if it does not enter the portal. When a player teleports through an end portal, the allay teleports to the End only if a player gives the allay an item before teleporting and must be nearby the player as they teleport. Allays holding an item follow the player through a portal if they are 21 blocks horizontally to the player or if they are within 22 blocks vertically of the player's legs. Allays do not travel through portals regardless of how close they are if they are tethered to a fence with a lead.

